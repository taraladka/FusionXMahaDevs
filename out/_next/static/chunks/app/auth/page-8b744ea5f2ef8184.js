(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[235],{4880:function(e,s,t){Promise.resolve().then(t.bind(t,3298))},3298:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return p}});var r=t(3827),a=t(4090),i=t(7907),l=t(8693),n=t(1991),d=t(6173),o=t(5481),m=t(2788),c=t(3141);let x=n.Ry().shape({email:n.Z_().email("Invalid email").required("Required"),password:n.Z_().required("Required")}),u=n.Ry().shape({name:n.Z_().required("Required"),email:n.Z_().email("Invalid email").required("Required"),password:n.Z_().min(6,"Password must be at least 6 characters").required("Required"),confirmPassword:n.Z_().oneOf([n.iH("password")],"Passwords must match").required("Required")});function h(){let e=(0,i.useRouter)(),s=(0,i.useSearchParams)(),t=s.get("action"),n=s.get("redirect")||"/events",{login:h,signup:p,loginWithGoogle:f,isLoading:j}=(0,m.a)(),[y,b]=(0,a.useState)(!1),[g,N]=(0,a.useState)(!1),[v,w]=(0,a.useState)(!0),[k,S]=(0,a.useState)(null);(0,a.useEffect)(()=>{w("signup"!==t)},[t]);let _=async(s,t)=>{let{setSubmitting:r,setStatus:a}=t;try{S(null),v?await h(s.email,s.password):await p(s.name,s.email,s.password),e.push(n)}catch(e){a({error:e.message}),S(e.message),r(!1)}},q=async()=>{try{S(null),await f(),e.push(n)}catch(e){S(e.message)}};return(0,r.jsxs)("div",{className:"min-h-screen flex flex-col bg-dark text-white",children:[(0,r.jsx)(c.Z,{}),(0,r.jsx)("div",{className:"flex-grow flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"max-w-md w-full space-y-8 bg-darkgray p-8 rounded-xl shadow-2xl border border-gray-800 relative",children:[j&&(0,r.jsx)("div",{className:"absolute inset-0 bg-darkgray/80 rounded-xl flex items-center justify-center z-10",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-10 w-10 border-t-2 border-b-2 border-primary"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-white",children:v?"Sign in to your account":"Create your account"}),(0,r.jsxs)("p",{className:"mt-2 text-center text-sm text-gray-300",children:[v?"Don't have an account? ":"Already have an account? ",(0,r.jsx)("button",{onClick:()=>w(!v),className:"font-medium text-primary hover:text-primary/80 transition-colors",children:v?"Sign up":"Sign in"})]})]}),(0,r.jsx)("div",{className:"mt-6",children:(0,r.jsx)("button",{type:"button",onClick:q,disabled:j,className:"group relative w-full flex justify-center py-2 px-4 border border-gray-600 text-sm font-medium rounded-md text-white bg-darkergray hover:bg-darkergray/80 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary transition-colors duration-300",children:(0,r.jsxs)("span",{className:"flex items-center",children:[(0,r.jsx)(o.JM8,{className:"h-5 w-5 mr-2"}),v?"Sign in with Google":"Sign up with Google"]})})}),(0,r.jsxs)("div",{className:"mt-6 flex items-center justify-center",children:[(0,r.jsx)("div",{className:"w-full border-t border-gray-600"}),(0,r.jsx)("div",{className:"px-3 text-sm text-gray-400 bg-darkgray relative z-10",children:"or"}),(0,r.jsx)("div",{className:"w-full border-t border-gray-600"})]}),k&&(0,r.jsx)("div",{className:"bg-red-500/10 border border-red-500 text-red-500 px-4 py-3 rounded mt-6",children:k}),(0,r.jsx)(l.J9,{initialValues:v?{email:"",password:""}:{name:"",email:"",password:"",confirmPassword:""},validationSchema:v?x:u,onSubmit:(e,s)=>_(e,s),enableReinitialize:!0,children:e=>{let{isSubmitting:s,status:t}=e;return(0,r.jsxs)(l.l0,{className:"mt-8 space-y-6",children:[t&&t.error&&!k&&(0,r.jsx)("div",{className:"bg-red-500/10 border border-red-500 text-red-500 px-4 py-3 rounded mb-4",children:t.error}),!v&&(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-300 mb-1",children:"Full Name"}),(0,r.jsxs)("div",{className:"relative rounded-md shadow-sm",children:[(0,r.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,r.jsx)(d.fzv,{className:"h-5 w-5 text-gray-400"})}),(0,r.jsx)(l.gN,{type:"text",name:"name",className:"form-input pl-10",placeholder:"John Doe"})]}),(0,r.jsx)(l.Bc,{name:"name",component:"div",className:"mt-1 text-sm text-red-500"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300 mb-1",children:"Email address"}),(0,r.jsxs)("div",{className:"relative rounded-md shadow-sm",children:[(0,r.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,r.jsx)(d.Imn,{className:"h-5 w-5 text-gray-400"})}),(0,r.jsx)(l.gN,{type:"email",name:"email",className:"form-input pl-10",placeholder:"your@email.com"})]}),(0,r.jsx)(l.Bc,{name:"email",component:"div",className:"mt-1 text-sm text-red-500"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300 mb-1",children:"Password"}),(0,r.jsxs)("div",{className:"relative rounded-md shadow-sm",children:[(0,r.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,r.jsx)(d.UIZ,{className:"h-5 w-5 text-gray-400"})}),(0,r.jsx)(l.gN,{type:y?"text":"password",name:"password",className:"form-input pl-10 pr-10",placeholder:"••••••••"}),(0,r.jsx)("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:(0,r.jsx)("button",{type:"button",onClick:()=>b(!y),className:"text-gray-400 hover:text-white focus:outline-none",children:y?(0,r.jsx)(d.rzC,{className:"h-5 w-5"}):(0,r.jsx)(d.rDJ,{className:"h-5 w-5"})})})]}),(0,r.jsx)(l.Bc,{name:"password",component:"div",className:"mt-1 text-sm text-red-500"})]}),!v&&(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-300 mb-1",children:"Confirm Password"}),(0,r.jsxs)("div",{className:"relative rounded-md shadow-sm",children:[(0,r.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,r.jsx)(d.UIZ,{className:"h-5 w-5 text-gray-400"})}),(0,r.jsx)(l.gN,{type:g?"text":"password",name:"confirmPassword",className:"form-input pl-10 pr-10",placeholder:"••••••••"}),(0,r.jsx)("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:(0,r.jsx)("button",{type:"button",onClick:()=>N(!g),className:"text-gray-400 hover:text-white focus:outline-none",children:g?(0,r.jsx)(d.rzC,{className:"h-5 w-5"}):(0,r.jsx)(d.rDJ,{className:"h-5 w-5"})})})]}),(0,r.jsx)(l.Bc,{name:"confirmPassword",component:"div",className:"mt-1 text-sm text-red-500"})]}),(0,r.jsx)("div",{children:(0,r.jsxs)("button",{type:"submit",disabled:s||j,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary transition-colors duration-300",children:[(0,r.jsx)("span",{className:"absolute left-0 inset-y-0 flex items-center pl-3",children:v?(0,r.jsx)(d._fJ,{className:"h-5 w-5 text-primary/80 group-hover:text-white"}):(0,r.jsx)(d.zy7,{className:"h-5 w-5 text-primary/80 group-hover:text-white"})}),s?"Processing...":v?"Sign in":"Sign up"]})})]})}})]})})]})}function p(){return(0,r.jsx)(m.H,{children:(0,r.jsx)(h,{})})}}},function(e){e.O(0,[982,956,680,63,429,831,141,971,69,744],function(){return e(e.s=4880)}),_N_E=e.O()}]);