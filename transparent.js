const Jimp = require('jimp'); Jimp.read('pictures/favicon-fusion-chatgpt-2.png').then(image => { image.scan(0, 0, image.bitmap.width, image.bitmap.height, function(x, y, idx) { const r = this.bitmap.data[idx]; const g = this.bitmap.data[idx + 1]; const b = this.bitmap.data[idx + 2]; if (r < 50 && g < 50 && b < 50) { this.bitmap.data[idx + 3] = 0; } }); return image.writeAsync('public/favicon-transparent.png'); }).then(() => { console.log('Created transparent favicon'); }).catch(err => { console.error(err); });
