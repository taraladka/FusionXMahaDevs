(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{510:function(e,a,t){Promise.resolve().then(t.bind(t,2190)),Promise.resolve().then(t.t.bind(t,2445,23)),Promise.resolve().then(t.t.bind(t,3445,23))},2190:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return l}});var r=t(3827),o=t(4090),s=t(7065),n=t(7659),i=t(2788);function l(e){let{children:a}=e,[t,l]=(0,o.useState)(!1);return((0,o.useEffect)(()=>{(async()=>{let e=(0,s.v0)(n.l2);try{await (0,s.Fb)(e,s.a$)}catch(e){console.error("Error setting auth persistence:",e)}finally{l(!0)}})()},[]),t)?(0,r.jsx)(i.H,{children:a}):null}},2788:function(e,a,t){"use strict";t.d(a,{H:function(){return l},a:function(){return u}});var r=t(3827),o=t(4090),s=t(7065),n=t(7659);let i=(0,o.createContext)(void 0);function l(e){let{children:a}=e,[t,l]=(0,o.useState)(null),[u,d]=(0,o.useState)(!0);(0,o.useEffect)(()=>{let e=(0,s.Aj)(n.I8,e=>{d(!0),e?l({id:e.uid,name:e.displayName||"User",email:e.email||"",isAdmin:"true"===localStorage.getItem("admin_".concat(e.uid))}):l(null),d(!1)});return()=>e()},[]);let c=async e=>"fusion2023"===e,m=async(e,a,t)=>{d(!0);try{if(!await c(t))throw Error("Invalid admin code");let r=await (0,s.e5)(n.I8,e,a);if(localStorage.setItem("admin_".concat(r.user.uid),"true"),r.user){let e={id:r.user.uid,name:r.user.displayName||"Admin",email:r.user.email||"",isAdmin:!0};l(e)}}catch(t){let e=t.code;console.error("Admin login error:",e,t.message);let a="Invalid email, password, or admin code";throw"Invalid admin code"===t.message?a="Invalid admin code":"auth/user-not-found"===e||"auth/wrong-password"===e?a="Invalid email or password":"auth/too-many-requests"===e?a="Too many failed login attempts. Please try again later.":"auth/user-disabled"===e&&(a="This account has been disabled. Please contact support."),d(!1),Error(a)}d(!1)},h=async(e,a,t,r)=>{d(!0);try{if(!await c(r))throw Error("Invalid admin code");let o=await (0,s.Xb)(n.I8,a,t);o.user&&(await (0,s.ck)(o.user,{displayName:e}),localStorage.setItem("admin_".concat(o.user.uid),"true"))}catch(t){let e=t.code;console.error("Admin signup error:",e,t.message);let a="Failed to create admin account";throw"Invalid admin code"===t.message?a="Invalid admin code":"auth/email-already-in-use"===e?a="Email already in use":"auth/invalid-email"===e?a="Invalid email address":"auth/weak-password"===e&&(a="Password is too weak. Please use a stronger password."),d(!1),Error(a)}d(!1)},p=async(e,a)=>{d(!0);try{await (0,s.e5)(n.I8,e,a)}catch(t){let e=t.code;console.error("Login error:",e,t.message);let a="Invalid email or password";throw"auth/user-not-found"===e||"auth/wrong-password"===e?a="Invalid email or password":"auth/too-many-requests"===e?a="Too many failed login attempts. Please try again later.":"auth/user-disabled"===e&&(a="This account has been disabled. Please contact support."),d(!1),Error(a)}d(!1)},f=async()=>{d(!0);try{let e=new s.hJ;e.addScope("https://www.googleapis.com/auth/userinfo.email"),e.addScope("https://www.googleapis.com/auth/userinfo.profile"),e.setCustomParameters({prompt:"select_account"}),await (0,s.rh)(n.I8,e)}catch(t){let e=t.code;console.error("Google login error:",e,t.message,t);let a="Failed to sign in with Google";throw"auth/popup-closed-by-user"===e?a="Sign-in popup was closed before completing the sign-in.":"auth/popup-blocked"===e?a="Sign-in popup was blocked by the browser. Please allow popups for this site.":"auth/account-exists-with-different-credential"===e?a="An account already exists with the same email address but different sign-in credentials.":"auth/cancelled-popup-request"===e?a="The popup has been closed by another popup request.":"auth/unauthorized-domain"===e&&(a="This domain is not authorized for OAuth operations. Add your domain in the Firebase console."),d(!1),Error(a)}finally{d(!1)}},w=async(e,a,t)=>{d(!0);try{let r=await (0,s.Xb)(n.I8,a,t);r.user&&await (0,s.ck)(r.user,{displayName:e})}catch(t){let e=t.code;console.error("Signup error:",e,t.message);let a="Failed to create account";throw"auth/email-already-in-use"===e?a="Email already in use":"auth/invalid-email"===e?a="Invalid email address":"auth/weak-password"===e&&(a="Password is too weak. Please use a stronger password."),d(!1),Error(a)}},g=async()=>{d(!0);try{await (0,s.w7)(n.I8)}catch(e){console.error("Logout error:",e)}finally{d(!1)}};return(0,r.jsx)(i.Provider,{value:{user:t,login:p,signup:w,logout:g,loginWithGoogle:f,isAuthenticated:!!t,isLoading:u,verifyAdminCode:c,loginAsAdmin:m,signupAsAdmin:h},children:a})}function u(){let e=(0,o.useContext)(i);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},7659:function(e,a,t){"use strict";let r;t.d(a,{I8:function(){return n},l2:function(){return r}});var o=t(6142),s=t(7065);t(3493),r=(0,o.C6)().length?(0,o.C6)()[0]:(0,o.ZF)({apiKey:"AIzaSyCt1EZAcN-F6905GLpXhVa7_G3eQ4A-Upo",authDomain:"fusion-club-1456b.firebaseapp.com",projectId:"fusion-club-1456b",storageBucket:"fusion-club-1456b.firebasestorage.app",messagingSenderId:"20769116100",appId:"1:20769116100:web:1fcbbef4d9fd3fa6a05e91",measurementId:"G-FKJ8EEV21Y"});let n=(0,s.v0)(r)},2445:function(){},3445:function(e){e.exports={style:{fontFamily:"'__Inter_d65c78', '__Inter_Fallback_d65c78'",fontStyle:"normal"},className:"__className_d65c78"}}},function(e){e.O(0,[982,63,971,69,744],function(){return e(e.s=510)}),_N_E=e.O()}]);