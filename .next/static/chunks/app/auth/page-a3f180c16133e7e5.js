(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[235],{4880:function(e,s,t){Promise.resolve().then(t.bind(t,3298))},3298:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return p}});var a=t(3827),r=t(4090),i=t(7907),l=t(8693),n=t(1991),d=t(6173),m=t(5481),o=t(2788),c=t(3141);let u=n.Ry().shape({email:n.Z_().email("Invalid email").required("Required"),password:n.Z_().required("Required"),adminCode:n.Z_().when("isAdmin",{is:!0,then:()=>n.Z_().required("Admin code is required"),otherwise:()=>n.Z_()})}),x=n.Ry().shape({name:n.Z_().required("Required"),email:n.Z_().email("Invalid email").required("Required"),password:n.Z_().min(6,"Password must be at least 6 characters").required("Required"),confirmPassword:n.Z_().oneOf([n.iH("password")],"Passwords must match").required("Required"),adminCode:n.Z_().when("isAdmin",{is:!0,then:()=>n.Z_().required("Admin code is required"),otherwise:()=>n.Z_()})});function h(){let e=(0,i.useRouter)(),s=(0,i.useSearchParams)(),t=s.get("action"),n=s.get("redirect")||"/events",{login:h,signup:p,loginWithGoogle:f,loginAsAdmin:b,signupAsAdmin:j,isLoading:w}=(0,o.a)(),[N,y]=(0,r.useState)(!1),[g,v]=(0,r.useState)(!1),[k,C]=(0,r.useState)(!0),[S,_]=(0,r.useState)(!1),[q,Z]=(0,r.useState)(!1),[A,P]=(0,r.useState)(null);(0,r.useEffect)(()=>{C("signup"!==t)},[t]);let R=async(s,t)=>{let{setSubmitting:a,setStatus:r}=t;try{P(null),k?S?(await b(s.email,s.password,s.adminCode),e.push("/admin/dashboard")):(await h(s.email,s.password),e.push(n)):S?(await j(s.name,s.email,s.password,s.adminCode),e.push("/admin/dashboard")):(await p(s.name,s.email,s.password),e.push(n))}catch(e){r({error:e.message}),P(e.message),a(!1)}},z=async()=>{try{P(null),await f(),e.push(n)}catch(e){P(e.message)}};return(0,a.jsxs)("div",{className:"min-h-screen flex flex-col bg-dark text-white",children:[(0,a.jsx)(c.Z,{}),(0,a.jsxs)("div",{className:"flex-grow flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8 relative overflow-hidden",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-grid-pattern opacity-5"}),(0,a.jsx)("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-primary opacity-10 rounded-full blur-3xl"}),(0,a.jsx)("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-primary opacity-10 rounded-full blur-3xl"}),(0,a.jsxs)("div",{className:"glass-card max-w-md w-full space-y-8 p-8 rounded-xl shadow-custom-lg relative z-10",children:[w&&(0,a.jsx)("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm rounded-xl flex items-center justify-center z-10",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-10 w-10 border-t-2 border-b-2 border-primary"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-white",children:k?"Sign in to your account":"Create your account"}),(0,a.jsxs)("p",{className:"mt-2 text-center text-sm text-gray-300",children:[k?"Don't have an account? ":"Already have an account? ",(0,a.jsx)("button",{onClick:()=>C(!k),className:"font-medium text-primary hover:text-primary/80 transition-colors",children:k?"Sign up":"Sign in"})]})]}),(0,a.jsx)("div",{className:"flex items-center justify-center",children:(0,a.jsxs)("label",{className:"inline-flex items-center cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",className:"sr-only peer",checked:S,onChange:()=>{_(!S),Z(!S)}}),(0,a.jsx)("div",{className:"relative w-11 h-6 bg-gray-600 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary/30 rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary"}),(0,a.jsxs)("span",{className:"ms-3 text-sm font-medium text-gray-300 flex items-center",children:[(0,a.jsx)(d.bfl,{className:"mr-1 h-4 w-4 text-primary"}),"Admin ",k?"Login":"Signup"]})]})}),!S&&(0,a.jsx)("div",{className:"mt-6",children:(0,a.jsx)("button",{type:"button",onClick:z,disabled:w,className:"glass-button group relative w-full flex justify-center py-2.5 px-4 text-sm font-medium rounded-md text-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary transition-all duration-300",children:(0,a.jsxs)("span",{className:"flex items-center",children:[(0,a.jsx)(m.JM8,{className:"h-5 w-5 mr-2"}),k?"Sign in with Google":"Sign up with Google"]})})}),!S&&(0,a.jsxs)("div",{className:"mt-6 flex items-center justify-center",children:[(0,a.jsx)("div",{className:"w-full border-t border-white/10"}),(0,a.jsx)("div",{className:"px-3 text-sm text-gray-400 bg-transparent relative z-10",children:"or"}),(0,a.jsx)("div",{className:"w-full border-t border-white/10"})]}),A&&(0,a.jsx)("div",{className:"bg-red-500/10 backdrop-blur-sm border border-red-500/50 text-red-400 px-4 py-3 rounded-md mt-6",children:A}),(0,a.jsx)(l.J9,{initialValues:k?{email:"",password:"",isAdmin:S,adminCode:""}:{name:"",email:"",password:"",confirmPassword:"",isAdmin:S,adminCode:""},validationSchema:k?u:x,onSubmit:(e,s)=>R(e,s),enableReinitialize:!0,children:e=>{let{isSubmitting:s,status:t}=e;return(0,a.jsxs)(l.l0,{className:"mt-8 space-y-6",children:[t&&t.error&&!A&&(0,a.jsx)("div",{className:"bg-red-500/10 border border-red-500 text-red-500 px-4 py-3 rounded mb-4",children:t.error}),!k&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-300 mb-1",children:"Full Name"}),(0,a.jsxs)("div",{className:"relative rounded-md shadow-sm",children:[(0,a.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,a.jsx)(d.fzv,{className:"h-5 w-5 text-gray-400"})}),(0,a.jsx)(l.gN,{type:"text",name:"name",className:"glass-input pl-10 w-full py-2.5 rounded-md",placeholder:"John Doe"})]}),(0,a.jsx)(l.Bc,{name:"name",component:"div",className:"mt-1 text-sm text-red-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300 mb-1",children:"Email address"}),(0,a.jsxs)("div",{className:"relative rounded-md shadow-sm",children:[(0,a.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,a.jsx)(d.Imn,{className:"h-5 w-5 text-gray-400"})}),(0,a.jsx)(l.gN,{type:"email",name:"email",className:"glass-input pl-10 w-full py-2.5 rounded-md",placeholder:"your@email.com"})]}),(0,a.jsx)(l.Bc,{name:"email",component:"div",className:"mt-1 text-sm text-red-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300 mb-1",children:"Password"}),(0,a.jsxs)("div",{className:"relative rounded-md shadow-sm",children:[(0,a.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,a.jsx)(d.UIZ,{className:"h-5 w-5 text-gray-400"})}),(0,a.jsx)(l.gN,{type:N?"text":"password",name:"password",className:"glass-input pl-10 pr-10 w-full py-2.5 rounded-md",placeholder:"••••••••"}),(0,a.jsx)("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:(0,a.jsx)("button",{type:"button",onClick:()=>y(!N),className:"text-gray-400 hover:text-white focus:outline-none",children:N?(0,a.jsx)(d.rzC,{className:"h-5 w-5"}):(0,a.jsx)(d.rDJ,{className:"h-5 w-5"})})})]}),(0,a.jsx)(l.Bc,{name:"password",component:"div",className:"mt-1 text-sm text-red-500"})]}),!k&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-300 mb-1",children:"Confirm Password"}),(0,a.jsxs)("div",{className:"relative rounded-md shadow-sm",children:[(0,a.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,a.jsx)(d.UIZ,{className:"h-5 w-5 text-gray-400"})}),(0,a.jsx)(l.gN,{type:g?"text":"password",name:"confirmPassword",className:"glass-input pl-10 pr-10 w-full py-2.5 rounded-md",placeholder:"••••••••"}),(0,a.jsx)("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:(0,a.jsx)("button",{type:"button",onClick:()=>v(!g),className:"text-gray-400 hover:text-white focus:outline-none",children:g?(0,a.jsx)(d.rzC,{className:"h-5 w-5"}):(0,a.jsx)(d.rDJ,{className:"h-5 w-5"})})})]}),(0,a.jsx)(l.Bc,{name:"confirmPassword",component:"div",className:"mt-1 text-sm text-red-500"})]}),S&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"adminCode",className:"block text-sm font-medium text-gray-300 mb-1",children:"Admin Code"}),(0,a.jsxs)("div",{className:"relative rounded-md shadow-sm",children:[(0,a.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,a.jsx)(d.bfl,{className:"h-5 w-5 text-gray-400"})}),(0,a.jsx)(l.gN,{type:N?"text":"password",name:"adminCode",className:"glass-input pl-10 w-full py-2.5 rounded-md",placeholder:"Enter admin code"})]}),(0,a.jsx)(l.Bc,{name:"adminCode",component:"div",className:"mt-1 text-sm text-red-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(l.gN,{name:"isAdmin",type:"hidden"}),(0,a.jsxs)("button",{type:"submit",disabled:s||w,className:"glass-button-primary group relative w-full flex justify-center py-2.5 px-4 text-sm font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary transition-all duration-300",children:[(0,a.jsx)("span",{className:"absolute left-0 inset-y-0 flex items-center pl-3",children:S?(0,a.jsx)(d.bfl,{className:"h-5 w-5 text-white"}):k?(0,a.jsx)(d._fJ,{className:"h-5 w-5 text-white"}):(0,a.jsx)(d.zy7,{className:"h-5 w-5 text-white"})}),S?k?"Sign in as Admin":"Sign up as Admin":k?"Sign in":"Sign up"]})]})]})}})]})]})]})}function p(){return(0,a.jsx)(o.H,{children:(0,a.jsx)(h,{})})}}},function(e){e.O(0,[982,956,680,63,429,831,141,971,69,744],function(){return e(e.s=4880)}),_N_E=e.O()}]);